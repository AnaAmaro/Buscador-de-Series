"use strict";const inputSearch=document.querySelector(".js-input"),buttonSearch=document.querySelector(".js-search_btn"),resultSlctr=document.querySelector(".result_shows"),favShows=document.querySelector(".shows_fav");let favShowsArray=[],showInfo=[];function renderShowInfo(o){let e;showInfo=o;for(let o=0;o<showInfo.length;o++)e=null===showInfo[o].show.image?`<li class="show_info" data-liindex="${o}"><img src='https://via.placeholder.com/210x295/ffffff/666666/?text=TV' alt="${showInfo[o].show.name} class="show_image" avatar"><h3>${showInfo[o].show.name}</h3></li>`:`<li class="show_info" data-liindex="${o}"><img src=${showInfo[o].show.image.medium} alt="${showInfo[o].show.name} class="show_image" avatar"><h3>${showInfo[o].show.name}</h3></li>`,resultSlctr.innerHTML+=e;const a=document.querySelectorAll(".show_info");for(let o=0;o<a.length;o++)a[o].addEventListener("click",addFavourites)}function addFavourites(o){let e=o.currentTarget;favShowsArray.push(showInfo[e.dataset.liindex]),renderFavourites(),localStorage.setItem("favouritesShows",JSON.stringify(favShowsArray))}function getFromLocalStorage(){const o=localStorage.getItem("favouritesShows");null!==o&&(favShowsArray=JSON.parse(o),renderFavourites())}function renderFavourites(){let o;favShows.innerHTML="";for(let e=0;e<favShowsArray.length;e++)o=null===favShowsArray[e].show.image?`<li class="show_info" data-liindex="${e}"><img src='https://via.placeholder.com/210x295/ffffff/666666/?text=TV' alt="${favShowsArray[e].show.name} class="show_image" avatar"><h3>${favShowsArray[e].show.name}</h3></li>`:`<li class="show_info" data-liindex="${e}"><img src=${favShowsArray[e].show.image.medium} alt="${favShowsArray[e].show.name} class="show_image" avatar"><h3>${favShowsArray[e].show.name}</h3></li>`,favShows.innerHTML+=o}function getUrlTv(o){fetch(`http://api.tvmaze.com/search/shows?q=${o}`).then(o=>o.json()).then(o=>renderShowInfo(o)).catch(o=>console.log(o))}buttonSearch.addEventListener("click",function(o){getUrlTv(inputSearch.value)}),getFromLocalStorage();